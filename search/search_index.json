{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to User Profile Microservice Docs For full API documentation visit Swagger . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Home"},{"location":"#welcome-to-user-profile-microservice-docs","text":"For full API documentation visit Swagger .","title":"Welcome to User Profile Microservice Docs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/","text":"Interface Agreement - GET Profile Avatar Method Description Action Get Avatar for Profiles Description The API can be used get profile avatars Type HTTP GET Output Type JSON Content-Type application/json URL GET {{AGL}}/ / / / / / /USERS/AVATARS 1.1 Input Data: Field Description Mandatory Location Type Notes tenant Service Platform (client Name) Y Path String Must be passed as TELUS ids comma separated list of avatar ids to filter result by N Query param String pageNumber Page number to fetch. N Query param Integer Default = 1 pageSize The size of page ( number of avatars per page) N Query param Integer Default = 50 1.2 Output Data: Field Location (Header/Path/Query) Description Mandatory Type Notes resultCode Body Result code of the interface call Y String resultObj Body List of Avatar objects Y String for Avatar object details, refer Avatar table executionTime Body Interface execution time Y Integer Avatar: Parameter Mandatory Type Description id Y String Unique id to identify avatar displayName Y String displayName of the avatar type Y String type of the avatar. Possible values- STANDARD/KID Category Y String category of the avatar displayImages Y String for more details refer displayImage table status Y String status of the avatar. Possible values- - ACTIVE/INACTIVE 1.4 Request Example: URL: GET https://telus.dev.n.svc.tv.telus.net/TELUS/T2.0/R/ENG/IOS/OPTIK/USER/AVATARS?type=KID&pageSize=3&pageNumber=1 1.5 Response Example: Note: Only active status=ACTIVE avatars need to be shown for the user for the selection. While creating and updating profiles, we only consider the ACTIVE avatars. { \"resultCode\": \"ACN_200\", \"resultDescription\": \"OK\", \"resultObj\": [ { \"id\": \"25a6741d-fb6a-4ef7-add0-1ae10d4d7fea\", \"displayName\": \"avatar3\", \"type\": \"KID\", \"category\": \"DEFAULT123\", \"displayImages\": [ { \"imageExternalId\": \"abc\", \"imageRatio\": \"20*78\", \"imageUrl\": \"https://dummy3\" }, { \"imageExternalId\": \"bcd\", \"imageRatio\": \"20*56\", \"imageUrl\": \"https://dummy3\" } ], \"status\": \"INACTIVE\" }, { \"id\": \"f5ac404a-eb0d-4309-9dc5-9948817af729\", \"displayName\": \"avatar3\", \"type\": \"KID\", \"category\": \"DEFAULT\", \"displayImages\": [ { \"imageExternalId\": \"abc\", \"imageRatio\": \"20*78\", \"imageUrl\": \"https://dummy2\" }, { \"imageExternalId\": \"bcd\", \"imageRatio\": \"20*56\", \"imageUrl\": \"https://dummy1\" } ], \"status\": \"ACTIVE\" }, { \"id\": \"3af5974b-a10e-44fb-bca0-7e790c1b8da2\", \"displayName\": \"avatar3\", \"type\": \"KID\", \"category\": \"DEFAULT\", \"displayImages\": [ { \"imageExternalId\": \"abc\", \"imageRatio\": \"20*78\", \"imageUrl\": \"https://dummy2\" }, { \"imageExternalId\": \"bcd\", \"imageRatio\": \"20*56\", \"imageUrl\": \"https://dummy1\" } ], \"status\": \"ACTIVE\" } ], \"executionTime\": 23 } 1.6 Error example: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_3000\", \"message\": \"GENERIC ERROR\", \"resultObj\": [], \"systemTime\": 1657219406424 } Result Code resultObj.resultCode Result Description cAUSE 401 ACN_3000 GENERIC ERROR One of the possible cause is that AGL is unable to reach telus-avatar-ms","title":"Interface Agreement - GET Profile Avatar"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/#interface-agreement-get-profile-avatar","text":"Method Description Action Get Avatar for Profiles Description The API can be used get profile avatars Type HTTP GET Output Type JSON Content-Type application/json URL GET {{AGL}}/ / / / / / /USERS/AVATARS","title":"Interface Agreement - GET Profile Avatar"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/#11-input-data","text":"Field Description Mandatory Location Type Notes tenant Service Platform (client Name) Y Path String Must be passed as TELUS ids comma separated list of avatar ids to filter result by N Query param String pageNumber Page number to fetch. N Query param Integer Default = 1 pageSize The size of page ( number of avatars per page) N Query param Integer Default = 50","title":"1.1     Input Data:"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/#12-output-data","text":"Field Location (Header/Path/Query) Description Mandatory Type Notes resultCode Body Result code of the interface call Y String resultObj Body List of Avatar objects Y String for Avatar object details, refer Avatar table executionTime Body Interface execution time Y Integer Avatar: Parameter Mandatory Type Description id Y String Unique id to identify avatar displayName Y String displayName of the avatar type Y String type of the avatar. Possible values- STANDARD/KID Category Y String category of the avatar displayImages Y String for more details refer displayImage table status Y String status of the avatar. Possible values- - ACTIVE/INACTIVE","title":"1.2     Output Data:"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/#14-request-example","text":"URL: GET https://telus.dev.n.svc.tv.telus.net/TELUS/T2.0/R/ENG/IOS/OPTIK/USER/AVATARS?type=KID&pageSize=3&pageNumber=1","title":"1.4  Request Example:"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/#15-response-example","text":"Note: Only active status=ACTIVE avatars need to be shown for the user for the selection. While creating and updating profiles, we only consider the ACTIVE avatars. { \"resultCode\": \"ACN_200\", \"resultDescription\": \"OK\", \"resultObj\": [ { \"id\": \"25a6741d-fb6a-4ef7-add0-1ae10d4d7fea\", \"displayName\": \"avatar3\", \"type\": \"KID\", \"category\": \"DEFAULT123\", \"displayImages\": [ { \"imageExternalId\": \"abc\", \"imageRatio\": \"20*78\", \"imageUrl\": \"https://dummy3\" }, { \"imageExternalId\": \"bcd\", \"imageRatio\": \"20*56\", \"imageUrl\": \"https://dummy3\" } ], \"status\": \"INACTIVE\" }, { \"id\": \"f5ac404a-eb0d-4309-9dc5-9948817af729\", \"displayName\": \"avatar3\", \"type\": \"KID\", \"category\": \"DEFAULT\", \"displayImages\": [ { \"imageExternalId\": \"abc\", \"imageRatio\": \"20*78\", \"imageUrl\": \"https://dummy2\" }, { \"imageExternalId\": \"bcd\", \"imageRatio\": \"20*56\", \"imageUrl\": \"https://dummy1\" } ], \"status\": \"ACTIVE\" }, { \"id\": \"3af5974b-a10e-44fb-bca0-7e790c1b8da2\", \"displayName\": \"avatar3\", \"type\": \"KID\", \"category\": \"DEFAULT\", \"displayImages\": [ { \"imageExternalId\": \"abc\", \"imageRatio\": \"20*78\", \"imageUrl\": \"https://dummy2\" }, { \"imageExternalId\": \"bcd\", \"imageRatio\": \"20*56\", \"imageUrl\": \"https://dummy1\" } ], \"status\": \"ACTIVE\" } ], \"executionTime\": 23 }","title":"1.5     Response Example:"},{"location":"USER/ACCOUNTS/GET%20profileAvatar/#16-error-example","text":"{ \"resultCode\": \"KO\", \"errorDescription\": \"ACN_3000\", \"message\": \"GENERIC ERROR\", \"resultObj\": [], \"systemTime\": 1657219406424 } Result Code resultObj.resultCode Result Description cAUSE 401 ACN_3000 GENERIC ERROR One of the possible cause is that AGL is unable to reach telus-avatar-ms","title":"1.6 Error example:"},{"location":"USER/ACCOUNTS/POST%20subAccounts/","text":"Interface Agreement - POST USER/ACCOUNTS/SUBACCOUNTS Method Description Action AddSubAccount Description The API can be used to create new user profiles Type HTTP POST Input Type Body Output Type JSON Content-Type application/json URL POST {{AGL}}/ /T2.0/ / / /USER/ACCOUNTS/SUBACCOUNTS 1.1 Input Data: Field Description Mandatory Location Type Notes profileName Name of the user profile to be created. Only alpha-numeric chars are accepted. Y Body String Enforced at AGL level locale Locale value of the user Y Path String Example value: ENG, FRA channel true/false Y Path String Example value: ENG, FRA propertyName Property that can take any value and it's used to filter out content that does not belong to the Property Y Path String Example value: IOS, TVOS etc. ref: Platforms kidsProfile true/false N Body String Example value: PIK, OPTIK ref: Properties pcLevelEpg N Body String If True, the values passed for pcLevelEpg and pcLevelVod will be ignored and set to default values for Kids pcLevelVod N Body String if kidsProfile == True Then pcLevelEpg will be defaulted to (13+, value 35)configured Kids pcLevelEpg. Other passed values will be ignored in kids case. uiLanguage EN/FR Y Body String if kidsProfile == True Then pcLevelVod will be defaulted (13+, value 35) to configured Kids pcLevelVod. Other passed values will be ignored in kids case. tenant Service Platform (client Name) Y Path String It needs to be a valid 3 letter ISO code for the language. For eg. ENG. The ISO 639-2 language codes can be found on-line, see \"Codes for the Representation of Names of Languages appVersion Version of API call Y Path String Must be passed as TELUS cluster User cluster Y Path String value range is: A : Anonymous R : Registeredr avatarId Y Body String Enforced at AGL level isAdmin Y/N N Body String purchaseEnabled Y/N N Body String exitProofEnabled true/false N Body Bool closedCaptioningEnabled true/false N Body Bool describedVideoEnabled true/false N Body Bool 1.2 Output Data: Field Location (Header/Path/Query) Description Mandatory Type Notes resultCode Body Result code of the interface call Y String resultObj Body Descriptive result description N String executionTime Body Interface execution time Y Integer 1.3 Error Codes: Result Code resultObj.resultCode Result Description HTTP code KO ACN_10010 ProfileName Already in Use 200 KO ACN_10011 Maximum Additional Profile Count Exceeded 200 KO ACN_10012 Kids Profile Cannot Be An Admin 200 KO ACN_10013 Profile Name can only contain alphanumeric characters 200 KO ACN_10013 Avatar Already in Use 200 1.4 Request Example: URL: POST {{AGL}}/TELUS/T2.0/R/ENG/IOS/OPTIK/USER/ACCOUNTS/SUBACCOUNTS { \"profileName\" : \"Toph\", \"email\": \"bandit@Gaoling.com\", \"pcLevelEpg\": \"15\", \"pcLevelVod\": \"15\", \"isAdmin\": \"N\", \"purchaseEnabled\": \"Y\", \"avatarId\": \"avatarID324\", \"exitProofEnabled\": true, \"kidsProfile\" : true, \"closedCaptioningEnabled\" : false, \"describedVideoEnabled\" : true, \"uiLanguage\": \"FR\" } 1.5 Response Example: { \"resultCode\": \"OK\", \"message\": \"\", \"errorDescription\": \"200-10000\", \"resultObj\": { \"profile\": { \"profileData\": { \"userId\": 3886, \"parentUserName\": \"ci-dev-opus-up4\", \"crmAccountId\": \"ci-dev-opus-up4\" } } }, \"systemTime\": 1656608170011 } 1.6 Error Responses Example: Bad Request - Bad Request like http method is not valid { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_3000\", \"message\": \"Not Found\", \"resultObj\": {}, \"systemTime\": 1651264879775 } Parsing JSON data failed - Input JSON data is not valid { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_3258\", \"message\": \"Parsing JSON data failed\", \"resultObj\": {}, \"systemTime\": 1651264863153 } Profile Name Already Exists: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10010\", \"message\": \"ProfileName Already in Use\", \"resultObj\": {}, \"systemTime\": 1656608392001 } Avatar Already Exists: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10014\", \"message\": \"Avatar Already in Use\", \"resultObj\": {}, \"systemTime\": 1655750683700 } Max Number of User Profiles Reached : { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10011\", \"message\": \"Maximum Additional Profile Count Exceeded\", \"resultObj\": {}, \"systemTime\": 1656608053168 } Giving a Kids profile admin status: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10012\", \"message\": \"Kids Profile Cannot Be An Admin\", \"resultObj\": {}, \"systemTime\": 1656608415133 } Invalid Profile Name: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10013\", \"message\": \"Profile Name can only contain alphanumeric characters\", \"resultObj\": {}, \"systemTime\": 1656608436815 } Missing mandatory parameters: { \"resultCode\": \"KO\", \"errorDescription\": \"400-10002\", \"message\": \"Missing mandatory parameter: profileName\", \"resultObj\": {}, \"systemTime\": 1651265081851 } { \"resultCode\": \"KO\", \"errorDescription\": \"400-10002\", \"message\": \"Missing mandatory parameter: avatarId\", \"resultObj\": {}, \"systemTime\": 1651265055324 }","title":"Interface Agreement -POST USER/ACCOUNTS/SUBACCOUNTS"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#interface-agreement-post-useraccountssubaccounts","text":"Method Description Action AddSubAccount Description The API can be used to create new user profiles Type HTTP POST Input Type Body Output Type JSON Content-Type application/json URL POST {{AGL}}/ /T2.0/ / / /USER/ACCOUNTS/SUBACCOUNTS","title":"Interface Agreement - POST USER/ACCOUNTS/SUBACCOUNTS"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#11-input-data","text":"Field Description Mandatory Location Type Notes profileName Name of the user profile to be created. Only alpha-numeric chars are accepted. Y Body String Enforced at AGL level locale Locale value of the user Y Path String Example value: ENG, FRA channel true/false Y Path String Example value: ENG, FRA propertyName Property that can take any value and it's used to filter out content that does not belong to the Property Y Path String Example value: IOS, TVOS etc. ref: Platforms kidsProfile true/false N Body String Example value: PIK, OPTIK ref: Properties pcLevelEpg N Body String If True, the values passed for pcLevelEpg and pcLevelVod will be ignored and set to default values for Kids pcLevelVod N Body String if kidsProfile == True Then pcLevelEpg will be defaulted to (13+, value 35)configured Kids pcLevelEpg. Other passed values will be ignored in kids case. uiLanguage EN/FR Y Body String if kidsProfile == True Then pcLevelVod will be defaulted (13+, value 35) to configured Kids pcLevelVod. Other passed values will be ignored in kids case. tenant Service Platform (client Name) Y Path String It needs to be a valid 3 letter ISO code for the language. For eg. ENG. The ISO 639-2 language codes can be found on-line, see \"Codes for the Representation of Names of Languages appVersion Version of API call Y Path String Must be passed as TELUS cluster User cluster Y Path String value range is: A : Anonymous R : Registeredr avatarId Y Body String Enforced at AGL level isAdmin Y/N N Body String purchaseEnabled Y/N N Body String exitProofEnabled true/false N Body Bool closedCaptioningEnabled true/false N Body Bool describedVideoEnabled true/false N Body Bool","title":"1.1     Input Data:"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#12-output-data","text":"Field Location (Header/Path/Query) Description Mandatory Type Notes resultCode Body Result code of the interface call Y String resultObj Body Descriptive result description N String executionTime Body Interface execution time Y Integer","title":"1.2     Output Data:"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#13-error-codes","text":"Result Code resultObj.resultCode Result Description HTTP code KO ACN_10010 ProfileName Already in Use 200 KO ACN_10011 Maximum Additional Profile Count Exceeded 200 KO ACN_10012 Kids Profile Cannot Be An Admin 200 KO ACN_10013 Profile Name can only contain alphanumeric characters 200 KO ACN_10013 Avatar Already in Use 200","title":"1.3     Error Codes:"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#14-request-example","text":"URL: POST {{AGL}}/TELUS/T2.0/R/ENG/IOS/OPTIK/USER/ACCOUNTS/SUBACCOUNTS { \"profileName\" : \"Toph\", \"email\": \"bandit@Gaoling.com\", \"pcLevelEpg\": \"15\", \"pcLevelVod\": \"15\", \"isAdmin\": \"N\", \"purchaseEnabled\": \"Y\", \"avatarId\": \"avatarID324\", \"exitProofEnabled\": true, \"kidsProfile\" : true, \"closedCaptioningEnabled\" : false, \"describedVideoEnabled\" : true, \"uiLanguage\": \"FR\" }","title":"1.4     Request Example:"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#15-response-example","text":"{ \"resultCode\": \"OK\", \"message\": \"\", \"errorDescription\": \"200-10000\", \"resultObj\": { \"profile\": { \"profileData\": { \"userId\": 3886, \"parentUserName\": \"ci-dev-opus-up4\", \"crmAccountId\": \"ci-dev-opus-up4\" } } }, \"systemTime\": 1656608170011 }","title":"1.5     Response Example:"},{"location":"USER/ACCOUNTS/POST%20subAccounts/#16-error-responses-example","text":"Bad Request - Bad Request like http method is not valid { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_3000\", \"message\": \"Not Found\", \"resultObj\": {}, \"systemTime\": 1651264879775 } Parsing JSON data failed - Input JSON data is not valid { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_3258\", \"message\": \"Parsing JSON data failed\", \"resultObj\": {}, \"systemTime\": 1651264863153 } Profile Name Already Exists: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10010\", \"message\": \"ProfileName Already in Use\", \"resultObj\": {}, \"systemTime\": 1656608392001 } Avatar Already Exists: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10014\", \"message\": \"Avatar Already in Use\", \"resultObj\": {}, \"systemTime\": 1655750683700 } Max Number of User Profiles Reached : { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10011\", \"message\": \"Maximum Additional Profile Count Exceeded\", \"resultObj\": {}, \"systemTime\": 1656608053168 } Giving a Kids profile admin status: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10012\", \"message\": \"Kids Profile Cannot Be An Admin\", \"resultObj\": {}, \"systemTime\": 1656608415133 } Invalid Profile Name: { \"resultCode\": \"KO\", \"errorDescription\": \"ACN_10013\", \"message\": \"Profile Name can only contain alphanumeric characters\", \"resultObj\": {}, \"systemTime\": 1656608436815 } Missing mandatory parameters: { \"resultCode\": \"KO\", \"errorDescription\": \"400-10002\", \"message\": \"Missing mandatory parameter: profileName\", \"resultObj\": {}, \"systemTime\": 1651265081851 } { \"resultCode\": \"KO\", \"errorDescription\": \"400-10002\", \"message\": \"Missing mandatory parameter: avatarId\", \"resultObj\": {}, \"systemTime\": 1651265055324 }","title":"1.6 Error Responses Example:"}]}